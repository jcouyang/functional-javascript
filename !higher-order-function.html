<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>é«˜é˜¶å‡½æ•° Higher-order function</title>
<!-- 2015-10-26 Mon 00:04 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Jichao Ouyang" />
<meta  name="description" content="èƒ½ä½œä¸ºå‚æ•°æˆ–è€…è¿”å›å€¼çš„å‡½æ•°"
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">é«˜é˜¶å‡½æ•° Higher-order function</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. é«˜é˜¶å‡½æ•°(Higher-order function)</a>
<ul>
<li><a href="#sec-1-1">1.1. Higher-order function</a>
<ul>
<li><a href="#sec-1-1-1">1.1.1. å‡½æ•°ä½œä¸ºå‚æ•°</a></li>
<li><a href="#sec-1-1-2">1.1.2. å‡½æ•°ä½œä¸ºè¿”å›å€¼</a></li>
</ul>
</li>
<li><a href="#sec-1-2">1.2. æŸ¯é‡ŒåŒ– currying</a>
<ul>
<li><a href="#sec-1-2-1">1.2.1. æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªé—®é¢˜</a></li>
<li><a href="#sec-1-2-2">1.2.2. æŸ¯é‡ŒåŒ–å‡½æ•°æ¥å£</a></li>
<li><a href="#sec-1-2-3">1.2.3. è‡ªåŠ¨æŸ¯é‡ŒåŒ–</a></li>
</ul>
</li>
<li><a href="#sec-1-3">1.3. å‡½æ•°ç»„åˆ function composition</a>
<ul>
<li><a href="#sec-1-3-1">1.3.1. Compose</a></li>
<li><a href="#sec-1-3-2">1.3.2. pipe</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> é«˜é˜¶å‡½æ•°(Higher-order function)</h2>
<div class="outline-text-2" id="text-1">
<p>
æˆ‘ä»¬å·²ç»è§è¯†åˆ°äº†åŒ¿åå‡½æ•°å’Œç®­å¤´å‡½æ•°çš„ç”¨æ³•, åŒ¿åçš„ä¸€ç­‰å‡½æ•°åˆ°åº•æœ‰ä»€ä¹ˆç”¨å‘¢?
æ¥çœ‹çœ‹é«˜é˜¶å‡½æ•°çš„åº”ç”¨.
</p>

<p>
é«˜é˜¶å‡½æ•°æ„æ€æ˜¯å®ƒæ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°. ä¸ºä»€ä¹ˆå« <b>é«˜é˜¶</b>: æ¥çœ‹çœ‹è¿™ä¸ªå‡½æ•°
<code>f(x, y) = x(y)</code> æŒ‰ç…§ lambda çš„ç®€åŒ–è¿‡ç¨‹åˆ™æ˜¯
</p>

<pre class="example">
f(x) =&gt; (y -&gt; x(y))
(y) =&gt; x(y)
</pre>

<p>
å¯ä»¥çœ‹å‡ºæ¥è°ƒç”¨ f æ—¶å´åˆè¿”å›äº†ä¸€ä¸ªå‡½æ•°x.
</p>

<p>
è¿˜è®°å¾—é«˜ç­‰æ•°å­¦é‡Œé¢çš„å¯¼æ•°å—, ä¸¤é˜¶ä»¥ä¸Šçš„å¯¼æ•°å«é«˜é˜¶å¯¼æ•°.
å› ä¸ºæ±‚å¯¼ä¸€æ¬¡ä»¥åè¿”å›çš„å¯ä»¥æ±‚å¯¼.
</p>

<p>
æ¦‚å¿µæ˜¯ä¸€æ ·çš„,
å¦‚åŒ<a href="https://en.wikipedia.org/wiki/Matryoshka_doll">ä¿„ç½—æ–¯å¥—å¨ƒ</a> å½“å‡½æ•°æ‰§è¡Œä»¥åè¿˜éœ€æ‰§è¡Œæˆ–è€…è¦å¯¹å‚æ•°æ‰§è¡Œ,
å› æ­¤å«é«˜é˜¶å‡½æ•°.
</p>


<div class="figure">
<p><img src="./images/higherorder/recursion.png" alt="recursion.png" />
</p>
</div>

<p>
é«˜é˜¶å‡½æ•°æœ€å¸¸è§çš„åº”ç”¨å¦‚ <code>map</code>, <code>reduce</code>.
ä»–ä»¬éƒ½æ˜¯ä»¥ä¼ å…¥ä¸åŒçš„å‡½æ•°æ¥ä»¥ä¸åŒçš„æ–¹å¼æ“ä½œæ•°ç»„å…ƒç´ .
</p>

<p>
å¦å¤– <i>æŸ¯é‡ŒåŒ–</i>, åˆ™æ˜¯æ¯æ¬¡æ¶ˆè´¹ä¸€ä¸ªå‚æ•°å¹¶è¿”å›ä¸€ä¸ªé€æ­¥è¢«é…ç½®å¥½çš„å‡½æ•°.
</p>
<p>
é«˜é˜¶å‡½æ•°çš„è¿™äº›åº”ç”¨éƒ½æ˜¯ä¸ºå‡½æ•°çš„ç»„åˆæä¾›çµæ´»æ€§.
åœ¨æœ¬ç« ç»“æŸç›¸ä¿¡ä½ ä¼šå¾ˆå¥½çš„ä½“ä¼šåˆ°å‡½æ•°ç»„åˆçš„å¼ºå¤§ä¹‹å¤„.
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Higher-order function</h3>
<div class="outline-text-3" id="text-1-1">
<p>
å‡½æ•°åœ¨ JavaScript ä¸­æ˜¯ä¸€ç­‰å…¬æ°‘, å› æ­¤åœ¨ JavaScript ä¸­, ä½¿ç”¨é«˜é˜¶å‡½æ•°æ˜¯éå¸¸æ–¹ä¾¿çš„.
</p>
</div>

<div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1"><span class="section-number-4">1.1.1</span> å‡½æ•°ä½œä¸ºå‚æ•°</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
å‡è®¾æˆ‘ç°åœ¨è¦å¯¹ä¸€ä¸ªæ•°ç»„æ’åº, ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„ <code>sort</code>
</p>

<div class="org-src-container">

<pre class="src src-js">[1,3,2,5,4].sort( (x, y) =&gt; x - y )
</pre>
</div>

<p>
å¦‚æœæˆ‘ä»¬è¦é€†åºçš„æ’åº, æŠŠå‡å·å·¦å³çš„ <code>x</code> å’Œ <code>y</code> å‘¼å”¤,å°±è¿™ä¹ˆç®€å•,
ä½†å¦‚æœæˆ‘æ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„, è¦æ ¹æ®å¯¹è±¡çš„ <code>id</code> æ’åº:
</p>

<div class="org-src-container">

<pre class="src src-js">[{id:1, name:<span style="color: #66cccc;">'one'</span>},
 {id:3, name:<span style="color: #66cccc;">'three'</span>}, 
 {id:2, name:<span style="color: #66cccc;">'two'</span>}, 
 {id:5, name:<span style="color: #66cccc;">'five'</span>},  
 {id:4, name:<span style="color: #66cccc;">'four'</span>}].sort((x,y) =&gt; x.id - y.id)
</pre>
</div>

<p>
æ˜¯ä¸æ˜¯å·²ç»èƒ½å¤Ÿæ„Ÿå—åˆ°é«˜é˜¶å‡½æ•°ä¸åŒ¿åå‡½æ•°ç»„åˆçš„çµæ´»æ€§.
</p>
</div>
</div>

<div id="outline-container-sec-1-1-2" class="outline-4">
<h4 id="sec-1-1-2"><span class="section-number-4">1.1.2</span> å‡½æ•°ä½œä¸ºè¿”å›å€¼</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
å‡½æ•°çš„è¿”å›å€¼å¯ä»¥ä¸åªæ˜¯å€¼, åŒæ ·ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°, æ¥çœ‹ Eweda
å†…éƒ¨çš„ä¸€ä¸ªå·¥å…·å‡½æ•° <code>aliasFor</code>, ä»–çš„ä½œç”¨æ˜¯ç»™å‡½æ•° E çš„ä¸€äº›æ–¹æ³•èµ·ä¸€äº›åˆ«å:
</p>

<blockquote>
<p>
å¬èµ·æ¥å¾ˆæ€ªä¸æ˜¯å—, å‡½æ•°æ€ä¹ˆæœ‰æ–¹æ³•, å®é™…ä¸Š JavaScript çš„ <code>function</code>
æ˜¯ä¸€ä¸ªç‰¹æ®Š <b>å¯¹è±¡</b>, è¯•è¯•åœ¨ Firefox console é‡Œæ•² <code>console.log.</code>
æ˜¯ä¸æ˜¯çœ‹åˆ°äº†ä¸€äº›æ–¹æ³•, ä½†æ˜¯ <code>typeof console.log</code> æ˜¯ function
</p>
</blockquote>

<div class="org-src-container">

<pre class="src src-js"><span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">E</span> = () =&gt; {}
<span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">aliasFor</span> = oldName =&gt; {
    <span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">fn</span> = newName =&gt; {
      E[newName] = E[oldName];
      <span style="color: #99cc99;">return</span> fn;
    };
    <span style="color: #99cc99;">return</span> (fn.is = fn.are = fn.and = fn);
};
</pre>
</div>

<p>
è¿™é‡Œæœ‰ä¸¤ä¸ª <code>return</code>, ä¸€ä¸ªæ˜¯ <code>fn</code> è¿”å›è‡ªå·±, å¦ä¸€ä¸ªæ˜¯ <code>aliasFor</code> ä¹Ÿè¿”å›
<code>fn</code>, å¹¶ä¸”ç»™ <code>fn</code> äº†å‡ ä¸ªåˆ«å <code>fn.is</code> <code>fn.are</code>&#x2026;
</p>

<p>
ä»€ä¹ˆæ„æ€å‘¢? <code>fn</code> è¿”å› <code>fn</code>. å¾ˆç®€å•å°±æ˜¯ <code>fn() =&gt; fn</code>,
é‚£ä¹ˆ <code>fn()()=&gt;fn()=&gt;fn</code> &#x2026;ä»¥æ­¤ç±»æ¨, æ— è®ºè°ƒç”¨ fn å¤šå°‘æ¬¡,éƒ½æœ€ç»ˆè¿”å› fn.
</p>


<div class="figure">
<p><img src="./images/higherorder/1qUCC8s.png" alt="1qUCC8s.png" />
</p>
</div>

<p>
è¿™åˆ°åº•æœ‰ä»€ä¹ˆç”¨å‘¢, ç”±äºè¿™é‡Œä½¿ç”¨äº† <code>fn</code> çš„å‰¯ä½œç”¨(side affect)
æ¥å¹²äº†ä¸€äº›äº‹æƒ… <code>E[newName]=E[oldName]</code>, ä¹Ÿå°±æ˜¯ç»™ E çš„æ–¹æ³•èµ·ä¸€ä¸ªåˆ«å,
å› æ­¤æ¯æ¬¡è°ƒç”¨ fn éƒ½ä¼šç»™ <code>E</code> èµ·ä¸€ä¸ªåˆ«å. <code>aliasFor</code> æœ€åè¿”å›çš„æ˜¯ <code>fn</code>
è‡ªå·±çš„ä¸€äº›åˆ«å, ä½¿å¾—å¯ä»¥ chain èµ·æ¥æ›´å¯è¯»ä¸€äº›:
</p>

<div class="org-src-container">

<pre class="src src-js">aliasFor(<span style="color: #66cccc;">'reduce'</span>).is(<span style="color: #66cccc;">'reduceLeft'</span>).is(<span style="color: #66cccc;">'foldl'</span>)
</pre>
</div>

<a class="jsbin-embed" href="http://jsbin.com/qohil/1/embed?js,console">å®Œæ•´ä»£ç </a><script src="http://static.jsbin.com/js/embed.js"></script>

<blockquote>
<p>
å¦å¤–, å‡½æ•°ä½œä¸ºè¿”å›å€¼çš„é‡è¦åº”ç”¨, æŸ¯é‡ŒåŒ–ä¸é—­åŒ…,
å°†ä¼šåœ¨åœ¨åé¢ä¸“é—¨ä»‹ç». æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ä»¥å‡½æ•°ä½œä¸ºå‚æ•°çš„é«˜é˜¶å‡½æ•°çš„å…¸å‹åº”ç”¨.
</p>
</blockquote>
</div>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> æŸ¯é‡ŒåŒ– currying</h3>
<div class="outline-text-3" id="text-1-2">
<p>
è¿˜è®°å¾— Haskell Curryå—
</p>


<div class="figure">
<p><img src="./images/higherorder/curry.png" alt="curry.png" />
</p>
</div>

<p>
å¤šå·§å•Š, äººå®¶å§“ Curry å Haskell, éš¾æ€ª Haskell è¯­è¨€ä¼šè‡ªåŠ¨æŸ¯é‡ŒåŒ–, å‘µå‘µ.
ä½†æ˜¯ä¸å¥‡æ€ªå—, ä¸ºä»€ä¹ˆè¦æŸ¯é‡ŒåŒ–å‘¢. ä¸ºä»€ä¹ˆå¦‚æ­¤é‡è¦å¾—è®© Haskell
ä¼šé»˜è®¤è‡ªåŠ¨æŸ¯é‡ŒåŒ–æ‰€æœ‰å‡½æ•°, ä¸å°±æ˜¯è¿”å›ä¸€ä¸ªéƒ¨åˆ†é…ç½®å¥½çš„å‡½æ•°å—.
</p>

<p>
æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ª Haskell çš„ä»£ç .
</p>

<div class="org-src-container">

<pre class="src src-haskell">max 3 4
(max 3) 4
</pre>
</div>

<p>
ç»“æœéƒ½æ˜¯4, è¿™æœ‰ä»€ä¹ˆç”¨å‘¢.
</p>

<p>
è¿™é‡Œçœ‹ä¸å‡ºæ¥, æ”¾åˆ° <code>é«˜é˜¶å‡½æ•°</code> è¯•è¯•. ä»€ä¹ˆ? çœ‹ä¸æ‡‚å¤©ä¹¦ Haskell, æ¥çœ‹çœ‹
JavaScript å§.
</p>
</div>

<div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªé—®é¢˜</h4>
<div class="outline-text-4" id="text-1-2-1">
</div><ol class="org-ol"><li><a id="sec-1-2-1-1" name="sec-1-2-1-1"></a>å†™ä¸€ä¸ªå‡½æ•°, å¯ä»¥è¿æ¥å­—ç¬¦æ•°ç»„, å¦‚ f(['1','2']) =&gt; '12'<br  /><div class="outline-text-5" id="text-1-2-1-1">
<p>
å¥½å§,å¦‚æœä¸ç”¨æŸ¯é‡ŒåŒ–, æ€ä¹ˆå†™? å•Šå“ˆ <code>reduce</code>
</p>

<div class="org-src-container">

<pre class="src src-js"><span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">concatArray</span> = <span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">chars</span>){
  <span style="color: #99cc99;">return</span> chars.reduce(<span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">a</span>, <span style="color: #ffcc66;">b</span>){
    <span style="color: #99cc99;">return</span> a.concat(b);
  });
}
concat([<span style="color: #66cccc;">'1'</span>,<span style="color: #66cccc;">'2'</span>,<span style="color: #66cccc;">'3'</span>]) <span style="color: #999999; font-style: italic;">// </span><span style="color: #999999; font-style: italic;">=&gt; '123'</span>
</pre>
</div>

<p>
å¾ˆç®€å•,å¯¹å§.
</p>
</div>
</li>

<li><a id="sec-1-2-1-2" name="sec-1-2-1-2"></a>ç°åœ¨æˆ‘è¦å…¶ä¸­æ‰€æœ‰æ•°å­—åŠ 1, ç„¶ååœ¨è¿æ¥<br  /><div class="outline-text-5" id="text-1-2-1-2">
<div class="org-src-container">

<pre class="src src-js"><span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">concatArray</span> = <span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">chars</span>, <span style="color: #ffcc66;">inc</span>){
  <span style="color: #99cc99;">return</span> chars.map(<span style="color: #99cc99;">function</span>(<span style="color: #6699cc;">char</span>){
    <span style="color: #99cc99;">return</span> (+<span style="color: #6699cc;">char</span>)+inc + <span style="color: #66cccc;">''</span>;
  }).reduce(<span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">a</span>,<span style="color: #ffcc66;">b</span>){
      <span style="color: #99cc99;">return</span> a.concat(b)
  });
}
console.log(concatArray([<span style="color: #66cccc;">'1'</span>,<span style="color: #66cccc;">'2'</span>,<span style="color: #66cccc;">'3'</span>], 1))<span style="color: #999999; font-style: italic;">// </span><span style="color: #999999; font-style: italic;">=&gt; '234'</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-2-1-3" name="sec-1-2-1-3"></a>æ‰€æœ‰æ•°å­—ä¹˜ä»¥2, å†é‡æ„è¯•è¯•çœ‹<br  /><div class="outline-text-5" id="text-1-2-1-3">
<div class="org-src-container">

<pre class="src src-js"><span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">multiple</span> = <span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">a</span>, <span style="color: #ffcc66;">b</span>){
  <span style="color: #99cc99;">return</span> +a*b + <span style="color: #66cccc;">''</span>
}
<span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">concatArray</span> = <span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">chars</span>, <span style="color: #ffcc66;">inc</span>){
  <span style="color: #99cc99;">return</span> chars.map(<span style="color: #99cc99;">function</span>(<span style="color: #6699cc;">char</span>){
    <span style="color: #99cc99;">return</span> multiple(<span style="color: #6699cc;">char</span>, inc);
  }).reduce(<span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">a</span>,<span style="color: #ffcc66;">b</span>){
      <span style="color: #99cc99;">return</span> a.concat(b)
  });
}
console.log(concatArray([<span style="color: #66cccc;">'1'</span>,<span style="color: #66cccc;">'2'</span>,<span style="color: #66cccc;">'3'</span>], 2)) <span style="color: #999999; font-style: italic;">// </span><span style="color: #999999; font-style: italic;">=&gt; '246'</span>
</pre>
</div>

<p>
æ˜¯ä¸æ˜¯å·²ç»çœ‹å‡ºé—®é¢˜äº†å‘¢?
å¦‚æœæˆ‘åœ¨éœ€è¦æ¯ä¸ªæ•°å­—éƒ½å‡2,æ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦å‘¢.éœ€è¦å°† <code>map</code> å‚æ•°åŒ¿åå‡½æ•°ä¸­çš„
multiple å‡½æ•°æ¢æ‰. è¿™æ ·ä¸€æ¥ <code>concatArray</code> å°±ä¸èƒ½åŒæ—¶å¤„ç†åŠ , ä¹˜å’Œå‡?
é‚£ä¹ˆæ€ä¹ˆèƒ½æŠŠä»–æå–å‡ºæ¥å‘¢? æ¥å¯¹æ¯”ä¸‹æŸ¯é‡ŒåŒ–çš„è§£æ³•.
</p>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> æŸ¯é‡ŒåŒ–å‡½æ•°æ¥å£</h4>
<div class="outline-text-4" id="text-1-2-2">
<div class="org-src-container">

<pre class="src src-js"><span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">multiple</span> = <span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">a</span>){
  <span style="color: #99cc99;">return</span> <span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">b</span>){
    <span style="color: #99cc99;">return</span> +b*a + <span style="color: #66cccc;">''</span>
  }
}

<span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">plus</span> = <span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">a</span>){
  <span style="color: #99cc99;">return</span> <span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">b</span>){
    <span style="color: #99cc99;">return</span> (+b)+a + <span style="color: #66cccc;">''</span>
  }
}
<span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">concatArray</span> = <span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">chars</span>, <span style="color: #ffcc66;">stylishChar</span>){
  <span style="color: #99cc99;">return</span> chars.map(stylishChar)
    .reduce(<span style="color: #99cc99;">function</span>(<span style="color: #ffcc66;">a</span>,<span style="color: #ffcc66;">b</span>){
      <span style="color: #99cc99;">return</span> a.concat(b)
  });
}
console.log(concatArray([<span style="color: #66cccc;">'1'</span>,<span style="color: #66cccc;">'2'</span>,<span style="color: #66cccc;">'3'</span>], multiple(2)))
console.log(concatArray([<span style="color: #66cccc;">'1'</span>,<span style="color: #66cccc;">'2'</span>,<span style="color: #66cccc;">'3'</span>], plus(2)))
</pre>
</div>

<p>
æœ‰ä»€ä¹ˆä¸ä¸€æ ·å‘¢ 1. å¤„ç†æ•°ç»„ä¸­å­—ç¬¦çš„å‡½æ•°è¢«æå–å‡ºæ¥, ä½œä¸ºå‚æ•°ä¼ å…¥ 2.
æå–æˆæŸ¯é‡ŒåŒ–çš„å‡½æ•°, éƒ¨åˆ†é…ç½®å¥½åä¼ å…¥, å¥½å¤„æ˜¾è€Œæ˜“è§, è¿™ä¸‹æ¥å£éå¸¸é€šç•…
æ— è®ºæ˜¯å¤–å±‚è°ƒç”¨
</p>

<pre class="example">
concatArray(['1','2','3'], multiple(2))
</pre>

<p>
è¿˜æ˜¯å†…éƒ¨çš„ map å‡½æ•°
</p>

<pre class="example">
chars.map(stylishChar)
</pre>

<p>
è¿™äº›æ¥å£éƒ½æ¸…æ™°äº†å¾ˆå¤š, ä¸æ˜¯å—
</p>

<p>
è¿™å°±æ˜¯å‡½æ•°å¼çš„æ€æƒ³, ç”¨å·²æœ‰çš„å‡½æ•°ç»„åˆå‡ºæ–°çš„å‡½æ•°, è€ŒæŸ¯é‡ŒåŒ–æ¯æ¶ˆè´¹ä¸€ä¸ªå‚æ•°,
éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„éƒ¨åˆ†é…ç½®çš„å‡½æ•°, è¿™ä¸ºå‡½æ•°ç»„åˆæä¾›äº†æ›´çµæ´»çš„æ‰‹æ®µ,
å¹¶ä¸”ä½¿å¾—æ¥å£æ›´ä¸ºæµç•….
</p>
</div>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><span class="section-number-4">1.2.3</span> è‡ªåŠ¨æŸ¯é‡ŒåŒ–</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
åœ¨ Haskell è¯­è¨€ä¸­, å‡½æ•°æ˜¯ä¼šè‡ªåŠ¨æŸ¯é‡ŒåŒ–çš„:
</p>

<div class="org-src-container">

<pre class="src src-haskell">max 3 4
</pre>
</div>

<p>
å…¶å®å°±æ˜¯
</p>

<pre class="example">
(max 3) 4
</pre>

<p>
å¯ä»¥çœ‹çœ‹ <code>max</code> ä¸ <code>max 3</code> å‡½æ•°çš„ ç±»å‹
</p>

<div class="org-src-container">

<pre class="src src-haskell">ghci&gt; :t max
max :: Ord a =&gt; a -&gt; a -&gt; a
</pre>
</div>

<p>
çœ‹æ˜ç™½äº†ä¹ˆ, <code>Ord a =&gt;</code> è¡¨ç¤ºç±»å‹çº¦æŸä¸ºå¯ä»¥æ¯”è¾ƒå¤§å°çš„ç±»å‹, å› æ­¤ <code>max</code>
çš„ç±»å‹å¯ä»¥ç¿»è¯‘æˆ: å½“ç»™å®šä¸€ä¸ª <code>a</code>, ä¼šå¾—åˆ° <code>a -&gt; a</code>,
å†çœ‹çœ‹ <code>max 3</code> çš„ç±»å‹å°±å¥½ç†è§£äº†
</p>

<pre class="example">
ghci&gt; :t max 3
(Num a, Ord a) =&gt; a -&gt; a
</pre>

<p>
å·¦ä¾§è¡¨ç¤ºç±»å‹çº¦æŸ <code>a</code> å¯ä»¥æ˜¯ <code>Ord</code> æˆ–è€… <code>Num</code>,
æ„æ€æ˜¯ <code>max 3</code> è¿˜æ˜¯ä¸€ä¸ªå‡½æ•°,å¦‚æœç»™å®šä¸€ä¸ª <code>Ord</code> æˆ–è€… <code>Num</code> ç±»å‹çš„å‚æ•°
åˆ™è¿”å›ä¸€ä¸ª <code>Ord</code> æˆ–è€… <code>Num</code>.
</p>

<p>
ç°åœ¨æ˜¯ä¸æ˜¯æ¸…æ™°äº†, åœ¨ Haskell ä¸­æ¯ç»™å®šä¸€ä¸ªå‚æ•°, å‡½æ•°å¦‚æœæ˜¯å¤šå‚æ•°çš„,
è¯¥å‡½æ•°è¿˜ä¼šè¿”å›ä¸€ä¸ªå¤„ç†ä½™ä¸‹å‚æ•°çš„å‡½æ•°. è¿™å°±æ˜¯è‡ªåŠ¨æŸ¯é‡ŒåŒ–.
</p>

<p>
è€Œåœ¨ Javascript(ä»¥åŠå¤§å¤šæ•°è¯­è¨€) ä¸­ä¸æ˜¯çš„, å¦‚æœç»™å®šå¤šå‚å‡½æ•°çš„éƒ¨åˆ†å‚æ•°,
å‡½æ•°ä¼šé»˜è®¤å…¶ä»–å‚æ•°æ˜¯ <code>undefined</code>, è€Œä¸ä¼šè¿”å›å¤„ç†å‰©ä½™å‚æ•°çš„å‡½æ•°.
</p>

<div class="org-src-container">

<pre class="src src-js"><span style="color: #99cc99;">function</span> <span style="color: #f99157;">willNotCurry</span>(<span style="color: #ffcc66;">a</span>, <span style="color: #ffcc66;">b</span>, <span style="color: #ffcc66;">c</span>) {
    console.log(a, b, c)
    <span style="color: #99cc99;">return</span> a*b-c;
}
willNotCurry(1)
<span style="color: #999999; font-style: italic;">// </span><span style="color: #999999; font-style: italic;">=&gt; NaN</span>
<span style="color: #999999; font-style: italic;">// </span><span style="color: #999999; font-style: italic;">=&gt; 1 undefined undefined</span>
</pre>
</div>

<p>
å¦‚æœä½¿ç”¨è‡ªåŠ¨æŸ¯é‡ŒåŒ–çš„åº“ <a href="https://github.com/CrossEye/eweda">eweda</a>,
å‰é¢çš„ä¾‹å­ç®€ç›´å°±å®Œç¾äº†
</p>

<pre class="example">
var multiple = curry(function(a, b){
  return +b*a + ''
})
var plus = curry(function(a, b){
  return (+b)+a + ''
})
</pre>

<a class="jsbin-embed" href="http://jsbin.com/hamoq/6/embed?js,console">å®Œæ•´ä»£ç </a><script src="http://static.jsbin.com/js/embed.js"></script>
</div>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> å‡½æ•°ç»„åˆ function composition</h3>
<div class="outline-text-3" id="text-1-3">
<p>
é€šè¿‡å‰é¢ä»‹ç»çš„é«˜é˜¶å‡½æ•°, map, fold ä»¥åŠæŸ¯é‡ŒåŒ–,
å…¶å®å·²ç»è§è¯†åˆ°ä»€ä¹ˆæ˜¯å‡½æ•°ç»„åˆäº†. å¦‚ä¹‹å‰ä¾‹å­ä¸­çš„ map å°±æ˜¯ ç”± fold å‡½æ•°ä¸
reverse å‡½æ•°ç»„åˆå‡ºæ¥çš„.
</p>

<p>
è¿™å°±æ˜¯å‡½æ•°å¼çš„æ€æƒ³, ä¸æ–­åœ°ç”¨å·²æœ‰å‡½æ•°, æ¥ç»„åˆå‡ºæ–°çš„å‡½æ•°.
</p>


<div class="figure">
<p><img src="./images/higherorder/composition.jpg" alt="composition.jpg" />
</p>
</div>

<p>
å¦‚å›¾å°±æ˜¯å‡½æ•°ç»„åˆï¼Œæ¥è‡ª
<a href="https://en.wikipedia.org/wiki/Category_theory">Catgory Theory</a>ï¼ˆFuntor ä¹Ÿæ˜¯ä»è¿™æ¥çš„ï¼Œåé¢ä¼šè®²åˆ°ï¼‰, æ—¢ç„¶ä» Aåˆ°B
æœ‰å¯¹åº”çš„æ˜ å°„fï¼ŒBåˆ° Cæœ‰å¯¹åº”çš„æ˜ å°„gï¼Œ é‚£ä¹ˆ <code>(g.f)(x)</code> ä¹Ÿå°±æ˜¯ <code>f</code> ä¸ <code>g</code>
çš„ç»„åˆ <code>g(f(x))</code> å°±æ˜¯ Aåˆ° C çš„æ˜ å°„ã€‚ä¸Šä¸€ç« å®ç°çš„ map å‡½æ•°å°±ç›¸å½“äº
<code>reverse.fold</code>.
</p>
</div>

<div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1"><span class="section-number-4">1.3.1</span> Compose</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
æˆ‘ä»¬å¯ä»¥ç”¨ Eweda éå¸¸æ–¹ä¾¿çš„ compose æ–¹æ³•æ¥ç»„åˆå‡½æ•°
</p>

<div class="org-src-container">

<pre class="src src-js"><span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">gf</span> = E.compose(f, g)
</pre>
</div>

<p>
è¯´åˆ°äº†å‡½æ•°ç»„åˆ, æŸ¯é‡ŒåŒ–, æˆ‘æƒ³ç°åœ¨ç»ˆäºå¯ä»¥è§£é‡Šæ¸…æ¥šä¸ºä»€ä¹ˆåœ¨è¿™é‡Œé€‰ç”¨
Eweda/Ramda è€Œä¸æ˜¯ Underscore äº†.
</p>

<p>
ä¸¾ä¸ªä¾‹å­ğŸŒ° å¦‚æœæˆ‘ç°åœ¨æƒ³è¦ tasks åˆ—è¡¨ä¸­æ‰€æœ‰å±æ€§ä¸º <code>completed</code> ä¸º <code>true</code>
çš„å…ƒç´ , å¹¶æŒ‰ç…§ <code>id</code> æ’åº.
</p>

<p>
underscore é‡Œä¼šè¿™æ ·å†™:
</p>

<div class="org-src-container">

<pre class="src src-js">_(tasks)
    .chain()
    .filter( task =&gt; task.completed===<span style="color: #6699cc;">true</span>)
    .sortBy( task =&gt; task.id)
    .value();
</pre>
</div>

<p>
è¿™ç§æ–¹å¼æ€ä¹ˆçœ‹éƒ½ä¸æ˜¯å‡½æ•°å¼, è€Œæ˜¯ä»¥å¯¹è±¡/å®¹å™¨ä¸ºä¸­å¿ƒçš„ä¸²è”ï¼Œæœ‰äº›åƒ jquery
å¯¹è±¡çš„é“¾å¼è°ƒç”¨, æˆ–è€…æˆ‘ä»¬å¯ä»¥å†™çš„å‡½æ•°å¼ä¸€äº›, å¦‚
</p>

<div class="org-src-container">

<pre class="src src-js">_.sortBy(_.filter(tasks, task =&gt; task.completed===<span style="color: #6699cc;">true</span>), task =&gt; task.id)
</pre>
</div>

<p>
æ©æ©, çœ‹èµ·æ¥ä¸é”™å˜›, ä½†æ˜¯æœ‰è°æ˜¯è¿™ä¹ˆç”¨ underscoreçš„å‘¢. ä¸€èˆ¬éƒ½ä¼šåªè§è¿‡
é“¾å¼è°ƒç”¨æ‰æ˜¯ underscore çš„æ ‡å‡†å†™æ³•ã€‚
</p>

<p>
æ¥å¯¹æ¯”ä¸€ä¸‹ç”¨ Eweda/Ramda è§£å†³çš„è¿‡ç¨‹ :
</p>

<div class="org-src-container">

<pre class="src src-js">compose(sortBy(task=&gt;task.id), filter(task=&gt;task.completed===<span style="color: #6699cc;">true</span>))(tasks)
</pre>
</div>

<p>
å¥½åƒæ²¡ä»€ä¹ˆåŒºåˆ«å•Š? ä¸å°±æ˜¯ç”¨äº† compose å—?
</p>

<p>
åŒºåˆ«å¤§äº†è¿™, çœ‹è§ <code>tasks</code> æ˜¯æœ€åå½“å‚æ•°ä¼ ç»™ <code>E.compose()</code> çš„å—?
è€Œä¸æ˜¯å†™æ­»åœ¨filter çš„å‚æ•°ä¸­. è¿™æ„å‘³ç€åœ¨æ¥åˆ°éœ€è¦å¤„ç†çš„æ•°æ®å‰,
æˆ‘å·²ç»ç»„åˆå¥½ä¸€ä¸ªæ–°çš„å‡½æ•°åœ¨ç­‰å¾…æ•°æ®, è€Œä¸æ˜¯æŠŠæ•°æ®æ··æ‚åœ¨ä¸­é—´,
æˆ–æ˜¯ä¿æŒåœ¨ä¸€ä¸ªä¸­é—´å¯¹è±¡ä¸­. è€Œ underscore
çš„å†™æ³•å¯¼è‡´è¿™ä¸€é•¿ä¸² <code>_.sortBy(_.filter())</code> å…¶å®æ ¹æœ¬æ— æ³•é‡ç”¨ã€‚
</p>

<p>
å¥½å§å¦‚æœä½ è¿˜çœ‹ä¸å‡ºæ¥è¿™æ ·åšçš„å¥½å¤„. é‚£ä¹ˆæ¥å¦‚æœæˆ‘æœ‰ä¸€ä¸ªåŒ…å«å‡ ç»„ tasksçš„åˆ—è¡¨
groupedTasks, æˆ‘è¦æŒ‰ç±»å‹é€‰å‡º completed ä¸º true å¹¶æŒ‰ id æ’åº.
å¦‚æˆ‘ç°åœ¨æ•°æ®æ˜¯è¿™ä¸ªï¼š
</p>

<pre class="example">
groupedTasks = [
  [{completed:false, id:1},{completed:true, id:2}],
  [{completed:false, id:4},{completed:true, id:3}]
]
</pre>

<p>
underscore:
</p>

<div class="org-src-container">

<pre class="src src-js">_.map(groupedTasks,
   tasks =&gt; _.sortBy(_.filter(tasks, task =&gt; task.completed===<span style="color: #6699cc;">true</span>), task =&gt; task.id))
</pre>
</div>

<p>
çœ‹è§æˆ‘ä»¬åˆæŠŠ <code>_.sortBy(_.filter())</code> è¿™ä¸€é•¿ä¸²åŸå°ä¸åŠ¨çš„æ‹·è´åˆ°äº† map é‡Œã€‚
å› ä¸º underscore
ä¸€å¼€å§‹å°±è¦æ¶ˆè´¹æ•°æ®ï¼Œä½¿å¾—å¾ˆéš¾é‡ç”¨ï¼Œé™¤éåœ¨å¥—åœ¨å¦ä¸€ä¸ªå‡½æ•°é‡Œï¼š
</p>

<div class="org-src-container">

<pre class="src src-js"><span style="color: #99cc99;">function</span> <span style="color: #f99157;">completedAndSorted</span>(<span style="color: #ffcc66;">tasks</span>){
  <span style="color: #99cc99;">return</span> _.sortBy(_.filter(tasks, task =&gt; task.completed===<span style="color: #6699cc;">true</span>), task =&gt; task.id))
}
_.map(groupedTasks, completedAndSorted)
</pre>
</div>

<p>
åªæœ‰è¿™æ ·æ‰èƒ½é‡ç”¨å·²æœ‰çš„ä¸€äº›å‡½æ•°ã€‚æˆ–è€…è™½ç„¶ underscore ä¹Ÿæœ‰ <code>_.compose</code>
æ–¹æ³•ï¼Œä½†æ˜¯ å‡ ä¹æ‰€æœ‰ underscore
çš„æ–¹æ³•éƒ½æ˜¯å…ˆæ¶ˆè´¹æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°æ®ï¼‰ï¼Œä½¿å¾—å¾ˆéš¾æ”¾åˆ° <code>compose</code>
æ–¹æ³•ä¸­ï¼Œä¸ä¿¡å¯ä»¥å°è¯•æŠŠ filter å’Œ sortBy æè¿›å»ï¼Œåæ­£æˆ‘æ˜¯åšä¸åˆ°ã€‚
</p>

<p>
æ¥çœ‹çœ‹çœŸæ­£çš„å‡½æ•°ç»„åˆ
</p>

<div class="org-src-container">

<pre class="src src-js"><span style="color: #99cc99;">var</span> <span style="color: #ffcc66;">completedAndSorted</span> = compose(sortBy(task=&gt;task.id),
                                 filter(task=&gt;task.completed===<span style="color: #6699cc;">true</span>))
map(completedAndSorted, groupedTasks)
</pre>
</div>

<p>
çœ‹å‡ºæ¥æ€æƒ³å®Œå…¨ä¸ä¸€æ ·äº†å§.
</p>

<p>
ç”±äº Eweda/Ramda çš„å‡½æ•°éƒ½æ˜¯è‡ªåŠ¨æŸ¯é‡ŒåŒ–,è€Œä¸”æ•°æ®æ€»æ˜¯æœ€åä¸€ä¸ªå‚æ•°,
å› æ­¤å¯ä»¥éšæ„ç»„åˆ, æœ€ç»ˆå°†éœ€è¦å¤„ç†çš„æ•°æ®æ‰”ç»™ç»„åˆå¥½çš„å‡½æ•°å°±å¥½äº†.
è¿™æ‰æ˜¯å‡½æ•°å¼çš„æ€æƒ³. å…ˆå†™å¥½ä¸€ä¸ªå…¬å¼ï¼Œåœ¨æŠŠæ•°æ®æ‰”ç»™
å…¬å¼ã€‚è€Œä¸æ˜¯ç®—å¥½ä¸€éƒ¨åˆ†å†æŠŠç»“æœç»™å¦ä¸€ä¸ªå…¬å¼ã€‚
</p>


<div class="figure">
<p><img src="./images/higherorder/ThreeFunctionMachines.jpg" alt="ThreeFunctionMachines.jpg" />
</p>
</div>

<p>
è€Œ underscore è¦ä¹ˆæ˜¯ä»¥å¯¹è±¡ä¿æŒä¸­é—´æ•°æ®, ç”¨ chaining
çš„æ–¹å¼å¯¹ç›®æ ‡åº”ç”¨å„ç§å‡½æ•°ï¼ˆä¹¦ä¸Šä¼šå†™è¿™æ˜¯Flow-Base
programmingï¼Œä½†æˆ‘è§‰å¾—å…¶å®æ˜¯ Monadï¼Œä¼šåœ¨ä¸‹ä¸€ç« ä¸­ä»‹ç»ï¼‰,
è¦ä¹ˆç”¨å‡½æ•°åµŒå¥—å‡½æ•°, å°†ç›®æ ‡ä¸€å±‚å±‚ä¼ é€’ä¸‹å».
</p>
</div>
</div>

<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2"><span class="section-number-4">1.3.2</span> pipe</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
ç±»ä¼¼ compose, eweda/ramda è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å« pipe, pipe çš„å‡½æ•°æ‰§è¡Œæ–¹å‘åˆšå¥½ä¸
compose ç›¸å. æ¯”å¦‚ <code>pipe(f, g)</code>, <code>f</code> ä¼šå…ˆæ‰§è¡Œ, ç„¶åç»“æœä¼ ç»™ <code>g</code>,
æ˜¯ä¸æ˜¯è®©ä½ æƒ³èµ·äº† bash çš„ pipe
</p>

<pre class="example">
find / | grep porno
</pre>

<p>
å®é™…ä¸Šå°±æ˜¯ <code>pipe(find, grep(porno))(/)</code>
</p>

<p>
æ²¡é”™,ä»–ä»¬éƒ½æ˜¯ä¸€ä¸ªæ„æ€. è€Œä¸”è¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„æ–¹å‘æ›´é€‚åˆäººè„‘ç¼–è¯‘(å¯è¯»)ä¸€äº›.
</p>

<p>
å¦‚æœä½ å·²ç»ä¹ æƒ¯ underscore çš„è¿™ç§å†™æ³•
</p>

<div class="org-src-container">

<pre class="src src-js">_(data)
  .chain()
  .map(data1,fn1)
  .filter(data2, fn2)
  .value()
</pre>
</div>

<p>
é‚£ä¹ˆè½¬æ¢æˆ pipe æ˜¯å¾ˆå®¹æ˜“çš„ä¸€ä»¶äº‹æƒ…ï¼Œè€Œä¸”æ›´ç®€å•æ˜äº†æ˜“äºé‡ç”¨å’Œç»„åˆã€‚
</p>

<div class="org-src-container">

<pre class="src src-js">pipe(
  map(fn1),
  filter(fn2)
)(data)
</pre>
</div>

<a class="jsbin-embed" href="http://jsbin.com/hivaje/2/embed?js,console">å®Œæ•´ä»£ç </a><script src="http://static.jsbin.com/js/embed.js"></script>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Jichao Ouyang</p>
<p class="date">Created: 2015-10-26 Mon 00:04</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"></p>
</div>
</body>
</html>
